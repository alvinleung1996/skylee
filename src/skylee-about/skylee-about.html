<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/shadycss/apply-shim.html">

<link rel="import" href="../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../bower_components/iron-image/iron-image.html">
<link rel="import" href="../../bower_components/iron-resizable-behavior/iron-resizable-behavior.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">

<link rel="import" href="../../bower_components/curium-responsive-image/curium-responsive-image.html">
<link rel="import" href="../../bower_components/curium-responsive-layout/curium-responsive-layout.html">

<link rel="import" href="../skylee-icons/skylee-icons.html">

<dom-module id="skylee-about">
  <template strip-whitespace>
    <style>
      :host {
        display: block;
        overflow-x: hidden;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
        padding-top: var(--skylee-toolbar-height);
        background-color: var(--skylee-primary-background-color);
      }

      section {
        min-height: 300px;
        border-bottom: 1px solid var(--skylee-divider-color);
        display: flex;
        justify-content: center;
      }
      @media screen and (-ms-high-contrast: active), screen and (-ms-high-contrast: none) {  
        /* Fix for IE11 flexbox container min-height bug:
           Flexbox children cannot get the height of their parent
           and behave like there is no height in their parent. */  
        section {
          min-height: 0px;
        }
      }
      section:nth-of-type(odd) {
        background-color: var(--skylee-primary-background-color);
      }
      section:nth-of-type(even) {
        background-color: var(--skylee-secondary-background-color);
      }
      section > * {
        flex: 0 1 var(--skylee-content-max-width);
        box-sizing: border-box;
      }

      [layout="horizontal-2"] {
        display: flex;
      }
      [layout="horizontal-2"] > * {
        flex: 1 1 50%;
        box-sizing: border-box;
      }

      [layout="horizontal-2-reverse"] {
        display: flex;
        flex-direction: row-reverse;
      }
      [layout="horizontal-2-reverse"] > * {
        flex: 1 1 50%;
        box-sizing: border-box;
      }
      
      [layout="vertical"] {
        display: flex;
        flex-direction: column;
      }
      [layout="vertical"] > * {
        flex: 1 0 auto;
      }

      .padding-block {
        padding: 20px;
      }

      .text-block {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: flex-start;
      }
      .text-block > :not(:first-child) {
        margin-top: 16px;
      }
      .text-block > h2 {
        margin: 0;
        @apply --skylee-headline-font;
        color: var(--skylee-primary-text-color);
      }
      .text-block > p {
        margin: 0;
        @apply --skylee-body1-font;
        color: var(--skylee-secondary-text-color);
        text-align: justify;
        /* Fix for IE11: IE does not wrap p in flexbox */
        align-self: stretch;
      }

      .image-block {
        display: flex;
        flex-direction: column;
        justify-content: center;
      }
      .image-block > #image-set {
        flex: 0 0 auto;
      }
      .image-block > #image-set > #image {
        display: block;
        --iron-image-width: 100%;
      }

      .table-block {
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .table-block table {
        border-collapse: collapse;
      }
      .table-block td {
        padding: 5px;
      }
      .table-block td:not(:first-of-type) {
        border-left: 1px dashed var(--skylee-divider-color);
      }
      .table-block thead td {
        @apply --skylee-body1-font;
        color: var(--skylee-primary-text-color);
      }
      .table-block tbody td {
        border-top: 1px solid var(--skylee-divider-color);
        @apply --skylee-body1-font;
        color: var(--skylee-secondary-text-color);
      }

      .lyrics-block {
        display: flex;
        flex-direction: column;
        justify-content: center;
        /* Fix for IE11 */
        align-items: stretch;
      }
      .lyrics-block > h2 {
        margin: 0;
        @apply --skylee-headline-font;
        color: var(--skylee-primary-text-color);
        /* Fix for IE11 */
        text-align: center;
      }
      .lyrics-block > p {
        margin: 8px 0 0 0;
        @apply --skylee-body1-font;
        color: var(--skylee-secondary-text-color);
        /* Fix for IE11 */
        text-align: center;
      }
      .lyrics-block > p:first-of-type {
        margin-top: 16px;
      }

      .download-block {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: flex-start;
      }
      .download-block > h2 {
        margin: 0;
        @apply --skylee-headline-font;
        color: var(--skylee-primary-text-color);
      }
      .download-block > a {
        margin-top: 10px;
        text-decoration: none;
      }
      .download-block > a > paper-button {
        margin: 0;
        display: flex;
        @apply --skylee-button-font;
        color: var(--skylee-secondary-text-color);
      }

      .contact-block {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: flex-start;
      }
      @media screen and (-ms-high-contrast: active), screen and (-ms-high-contrast: none) {  
        .contact-block {
          align-items: stretch;
        }
      }
      .contact-block > :not(:first-child) {
        margin-top: 16px;
      }
      .contact-block > h2 {
        margin: 0;
        @apply --skylee-headline-font;
        color: var(--skylee-primary-text-color);
      }
      .contact-block > p {
        margin: 0;
        @apply --skylee-body1-font;
        color: var(--skylee-secondary-text-color);
        text-align: justify;
        /* Fix for IE11: IE does not wrap p in flexbox */
        align-self: stretch;
      }
      .contact-block > a {
        text-decoration: none;
      }
      .contact-block > a:not(:first-of-type) {
        margin-top: 0;
      }
      .contact-block > a > paper-button {
        margin: 0;
        display: flex;
        @apply --skylee-button-font;
        color: var(--skylee-secondary-text-color);
        text-transform: none;
      }
      @media screen and (-ms-high-contrast: active), screen and (-ms-high-contrast: none) {  
        .contact-block > a > paper-button {
          justify-content: flex-start;
        }
      }
      .contact-block > a > paper-button.wrappable {
        white-space: normal;
      }
      .contact-block > a > paper-button > iron-icon {
        flex: 0 0 auto;
        margin-right: 10px;
      }

      .map-iframe-block {
        display: flex;
      }
      .map-iframe-block > iframe {
        flex: 1 1 auto;
        border-radius: 5px;
        border: 1px solid rgba(0, 0, 0, 0.12);
      }


    </style>

    <section>
      <curium-responsive-layout layout-map='{"0":"vertical","600":"horizontal-2-reverse"}'>

        <div class="padding-block contact-block">
          <h2>Location &amp; Contact</h2>
          <p>Located inside the main campus, it is extremely convenient to travel from Lee Hall to any parts of HKU. Since Lee Hall is located at the Composite Building, next to Hsu Long Sing Amenities Centre, it takes less than 2 minutes to reach the Union Restaurant, the Students’ Union Office, the photocopying centre and the co-op.</p>
          <a href="mailto:skyhall@hku.hk"><paper-button><iron-icon icon="skylee:email"></iron-icon>skyhall@hku.hk</paper-button></a>
          <a href="tel:39170307"><paper-button><iron-icon icon="skylee:local-phone"></iron-icon>3917 0307</paper-button></a>
          <a href="geo:22.283021,114.135835"><paper-button class="wrappable"><iron-icon icon="skylee:home"></iron-icon>Simon K. Y. Lee Hall, The University of Hong Kong, Pok Fu Lam Road, Hong Kong</paper-button></a>
        </div>

        <div class="padding-block map-iframe-block"><iframe style="min-height:300px;" src="https://www.google.com/maps/embed/v1/place?q=place_id:ChIJy_g-sIX_AzQRQKVMfR8BxAk&key=AIzaSyBCeLWP6ls4Xl-lvQEpw7tYlK2msDviuLc" allowfullscreen></iframe></div>

      </curium-responsive-layout>
    </section>

    <section>
      <curium-responsive-layout layout-map='{"0":"vertical","600":"horizontal-2"}'>

        <div class="padding-block text-block">
          <h2>Transportation</h2>
          <p>Lee Hall is easily accessible. MTR, all buses and mini-buses getting to the HKU, also get to Lee Hall.</p>
        </div>

        <div class="padding-block table-block">
          <table>
            <thead>
              <tr>
                <td>Starting Point</td>
                <td>Bus Routes</td>
                <td>Green Minibus Routes</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Admiralty</td>
                <td>23, 37A, 40, 40M, 90B</td>
                <td>10, 11, 31</td>
              </tr>
              <tr>
                <td>Central</td>
                <td>3B, 4, 40M, 7, 71, 90B, 91</td>
                <td>8, 10A, 22</td>
              </tr>
              <tr>
                <td>Causeway Bay</td>
                <td>23, 103</td>
                <td>10, 11, 28, 31</td>
              </tr>
              <tr>
                <td>Kowloon</td>
                <td>970, 970X, 103, 973</td>
                <td></td>
              </tr>
            </tbody>
          </table>
        </div>

      </curium-responsive-layout>
    </section>

    <section>
      <curium-responsive-layout layout-map='{"0":"vertical","600":"horizontal-2-reverse"}'>

        <div class="padding-block lyrics-block">
          <h2>Hall Song</h2>
          <p>O Simon K. Y. Lee Hall,</p>
          <p>in our hearts you’ll forever stay.</p>
          <p>O Simon K. Y. Lee Hall,</p>
          <p>for lighting up our way.</p>
          <p>Never fall, never fail,</p>
          <p>never pale before each heavy hail.</p>
          <p>We will fight the ones who dare</p>
          <p>with all our might for our rights.</p>
          <p>In love and trust we grow here</p>
          <p>as brothers and sisters do.</p>
          <p>The life we’ve learnt to cherish,</p>
          <p>the friendship we hold true.</p>
          <p>Our spirit shall not perish,</p>
          <p>Lee Hallites ever true, ever true.</p>
        </div>

        <div class="padding-block image-block">
          <curium-responsive-image id="image-set" sizing="fit-width"
            src-map="320w-314h [[rootPath]]images/about/hall-song-320w.jpg,
                     [[rootPath]]images/about/hall-song-default.jpg">
            <iron-image id="image" preload fade></iron-image>
          </curium-responsive-image>
        </div>

      </curium-responsive-layout>
    </section>

    <section>
      <curium-responsive-layout layout-map='{"0":"vertical","600":"horizontal-2"}'>

        <div class="padding-block text-block">
          <h2>Hall Logo</h2>
          <p>The current hall logo was adopted in 1997. It incorporates clouds, a flying pigeon and the sea.</p>
          <p>The flying pigeon exhibits the characteristics of Skyers – the flying bird shows activeness while the pigeon shows sincerity and friendliness. The curved lines at the bottom represent sea waves and they act as a foil for the boundless sky.</p>
        </div>

        <div class="padding-block image-block">
          <curium-responsive-image id="image-set" sizing="fit-width"
            src-map="320w-226h [[rootPath]]images/about/hall-logo-320w.jpg,
                     640w-453h [[rootPath]]images/about/hall-logo-640w.jpg,
                     1280w-905h [[rootPath]]images/about/hall-logo-1280w.jpg,
                     [[rootPath]]images/about/hall-logo-default.jpg">
            <iron-image id="image" preload fade></iron-image>
          </curium-responsive-image>
        </div>

      </curium-responsive-layout>
    </section>

    <section>
      <curium-responsive-layout layout-map='{"0":"vertical","600":"horizontal-2"}'>

        <div class="padding-block download-block">
          <h2>Hall Regulations</h2>
          <a href$="[[rootPath]]data/regulations-governing-halls-and-flats.pdf" tabindex="-1" target="_blank">
            <paper-button>
              <iron-icon icon="skylee:file-download"></iron-icon>Download
            </paper-button>
          </a>
        </div>

        <div class="padding-block download-block">
          <h2>Hall Charges</h2>
          <a href$="[[rootPath]]data/hall-charges-2016-2017.pdf" tabindex="-1" target="_blank">
            <paper-button>
              <iron-icon icon="skylee:file-download"></iron-icon>Download
            </paper-button>
          </a>
        </div>

      </curium-responsive-layout>
    </section>

    <section>
      <div class="padding-block text-block">
        <h2>Our History</h2>
        <p>Found in 1985, the development of Lee Hall was funded by a generous donation from the late Dr. Simon K. Y. Lee and therefore the hall was named after him. In 1986, the Students’ Association was formed.</p>
        <p>Through its over 20-year history, Lee Hall has developed into a vital and diversified hall. All hall mates participate in and contribute to the hall. “We are Skyers, Active and Sincere” has long been our slogan.</p>
      </div>
    </section>

  </template>
  <script>
    class SkyleeAbout extends Polymer.mixinBehaviors(Polymer.IronResizableBehavior, Polymer.Element) {

      static get is() { return 'skylee-about'; }

      static get properties() {
        return {
          tabPageTitle: {
            type: String,
            value: 'About',
            notify: true
          }
        };
      }

    }
    window.customElements.define(SkyleeAbout.is, SkyleeAbout);
  </script>
</dom-module>
